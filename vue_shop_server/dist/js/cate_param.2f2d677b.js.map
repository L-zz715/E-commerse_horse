{"version":3,"file":"js/cate_param.2f2d677b.js","mappings":"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","sources":["webpack://vue_shop_h/./src/components/goods/Categories.vue?4953","webpack://vue_shop_h/src/components/goods/Categories.vue","webpack://vue_shop_h/./src/components/goods/Categories.vue?3598","webpack://vue_shop_h/./src/components/goods/Categories.vue","webpack://vue_shop_h/./src/components/goods/Params.vue?3e3e","webpack://vue_shop_h/src/components/goods/Params.vue","webpack://vue_shop_h/./src/components/goods/Params.vue?bb35","webpack://vue_shop_h/./src/components/goods/Params.vue","webpack://vue_shop_h/./node_modules/core-js/internals/string-trim-forced.js","webpack://vue_shop_h/./node_modules/core-js/modules/es.string.trim.js"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/welcome' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"商品管理\")]),_c('el-breadcrumb-item',[_vm._v(\"商品列表\")])],1),_c('el-card',{staticClass:\"box-card\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":4}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.showAddCateDialog}},[_vm._v(\"添加分类\")])],1)],1),_c('tree-table',{staticClass:\"treeTable\",attrs:{\"data\":_vm.goodsList,\"columns\":_vm.columns,\"selection-type\":false,\"expand-type\":false,\"show-index\":true,\"index-text\":\"\",\"border\":\"\",\"show-row-hover\":false},scopedSlots:_vm._u([{key:\"isok\",fn:function(scope){return [(!scope.row.cat_deleted)?_c('i',{staticClass:\"el-icon-success\",staticStyle:{\"color\":\"green\"}}):_c('i',{staticClass:\"el-icon-error\",staticStyle:{\"color\":\"red\"}})]}},{key:\"order\",fn:function(scope){return [(scope.row.cat_level === 0)?_c('el-tag',{attrs:{\"size\":\"mini\"}},[_vm._v(\"一级\")]):(scope.row.cat_level === 1)?_c('el-tag',{attrs:{\"size\":\"mini\",\"type\":\"success\"}},[_vm._v(\"二级\")]):_c('el-tag',{attrs:{\"size\":\"mini\",\"type\":\"warning\"}},[_vm._v(\"三级\")])]}},{key:\"opt\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.showEditDialog(scope.row.cat_id)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.removeCateById(scope.row.cat_id)}}},[_vm._v(\"删除\")])]}}])}),_c('el-pagination',{attrs:{\"current-page\":_vm.queryInfo.pagenum,\"page-sizes\":[2, 5, 10, 30],\"page-size\":_vm.queryInfo.pagesize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_c('el-dialog',{attrs:{\"title\":\"添加分类\",\"visible\":_vm.addCatDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.addCatDialogVisible=$event},\"close\":_vm.addCatDialogClosed}},[_c('el-form',{ref:\"addCateFormRef\",attrs:{\"model\":_vm.addCateForm,\"rules\":_vm.addCateFormRules,\"label-width\":\"90px\"}},[_c('el-form-item',{attrs:{\"label\":\"分类名称:\",\"prop\":\"cat_name\"}},[_c('el-input',{model:{value:(_vm.addCateForm.cat_name),callback:function ($$v) {_vm.$set(_vm.addCateForm, \"cat_name\", $$v)},expression:\"addCateForm.cat_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"父级分类:\"}},[_c('el-cascader',{attrs:{\"options\":_vm.parentCateList,\"props\":_vm.cascaderProps,\"clearable\":\"\",\"change-on-select\":\"\"},on:{\"change\":_vm.parentCateChange},model:{value:(_vm.selectedKeys),callback:function ($$v) {_vm.selectedKeys=$$v},expression:\"selectedKeys\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addCatDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addCate}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"编辑分类\",\"visible\":_vm.editCatDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.editCatDialogVisible=$event},\"close\":_vm.editCatDialogClosed}},[_c('el-form',{ref:\"editFormRef\",attrs:{\"model\":_vm.editForm,\"rules\":_vm.editFormRules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"分类名称\",\"prop\":\"cat_name\"}},[_c('el-input',{model:{value:(_vm.editForm.cat_name),callback:function ($$v) {_vm.$set(_vm.editForm, \"cat_name\", $$v)},expression:\"editForm.cat_name\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editCatDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.editCate}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- 这个添加分类的部分选择有问题还没做好 -->\r\n  <!-- 面包屑导航区 -->\r\n  <div>\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/welcome' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>商品管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>商品列表</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n\r\n    <el-card class=\"box-card\">\r\n      <el-row>\r\n        <el-col :span=\"4\">\r\n          <el-button type=\"primary\" @click=\"showAddCateDialog\"\r\n            >添加分类</el-button\r\n          >\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <tree-table\r\n        class=\"treeTable\"\r\n        :data=\"goodsList\"\r\n        :columns=\"columns\"\r\n        :selection-type=\"false\"\r\n        :expand-type=\"false\"\r\n        :show-index=\"true\"\r\n        index-text=\"\"\r\n        border\r\n        :show-row-hover=\"false\"\r\n      >\r\n        <!-- 是否有效 列 -->\r\n        <template slot=\"isok\" slot-scope=\"scope\">\r\n          <i\r\n            class=\"el-icon-success\"\r\n            v-if=\"!scope.row.cat_deleted\"\r\n            style=\"color: green\"\r\n          ></i>\r\n          <i class=\"el-icon-error\" v-else style=\"color: red\"></i>\r\n        </template>\r\n        <!-- 排序列 -->\r\n        <template slot=\"order\" slot-scope=\"scope\">\r\n          <el-tag size=\"mini\" v-if=\"scope.row.cat_level === 0\">一级</el-tag>\r\n          <el-tag\r\n            size=\"mini\"\r\n            type=\"success\"\r\n            v-else-if=\"scope.row.cat_level === 1\"\r\n            >二级</el-tag\r\n          >\r\n          <el-tag size=\"mini\" type=\"warning\" v-else>三级</el-tag>\r\n        </template>\r\n        <!-- 操作 -->\r\n        <template slot=\"opt\" slot-scope=\"scope\">\r\n          <!-- {{scope.row}} -->\r\n          <!-- 修改按钮 -->\r\n          <el-button\r\n            type=\"primary\"\r\n            icon=\"el-icon-edit\"\r\n            size=\"mini\"\r\n            @click=\"showEditDialog(scope.row.cat_id)\"\r\n            >编辑</el-button\r\n          >\r\n          <!-- 删除按钮 -->\r\n          <el-button\r\n            type=\"danger\"\r\n            icon=\"el-icon-delete\"\r\n            size=\"mini\"\r\n            @click=\"removeCateById(scope.row.cat_id)\"\r\n            >删除</el-button\r\n          >\r\n        </template>\r\n      </tree-table>\r\n\r\n      <!-- 分页区域 -->\r\n      <el-pagination\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page=\"queryInfo.pagenum\"\r\n        :page-sizes=\"[2, 5, 10, 30]\"\r\n        :page-size=\"queryInfo.pagesize\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :total=\"total\"\r\n      >\r\n      </el-pagination>\r\n    </el-card>\r\n\r\n    <!-- 添加分类弹窗 -->\r\n    <el-dialog\r\n      title=\"添加分类\"\r\n      :visible.sync=\"addCatDialogVisible\"\r\n      width=\"50%\"\r\n      @close=\"addCatDialogClosed\"\r\n    >\r\n      <!-- 主体区域 -->\r\n      <!-- 分类表单 -->\r\n      <el-form\r\n        :model=\"addCateForm\"\r\n        :rules=\"addCateFormRules\"\r\n        ref=\"addCateFormRef\"\r\n        label-width=\"90px\"\r\n      >\r\n        <el-form-item label=\"分类名称:\" prop=\"cat_name\">\r\n          <el-input v-model=\"addCateForm.cat_name\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"父级分类:\">\r\n          <!-- props 用来指定配置对象 v-model 选中的值双向绑定到data中，只能绑定数组-->\r\n          <!--  change-on-select -->\r\n          <el-cascader\r\n            v-model=\"selectedKeys\"\r\n            :options=\"parentCateList\"\r\n            :props=\"cascaderProps\"\r\n            @change=\"parentCateChange\"\r\n            clearable\r\n            change-on-select\r\n          ></el-cascader>\r\n        </el-form-item>\r\n      </el-form>\r\n\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"addCatDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"addCate\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n\r\n    <!-- 编辑分类弹窗 -->\r\n    <el-dialog\r\n      title=\"编辑分类\"\r\n      :visible.sync=\"editCatDialogVisible\"\r\n      width=\"50%\"\r\n      @close=\"editCatDialogClosed\"\r\n    >\r\n      <el-form\r\n        :model=\"editForm\"\r\n        :rules=\"editFormRules\"\r\n        ref=\"editFormRef\"\r\n        label-width=\"100px\"\r\n      >\r\n        <el-form-item label=\"分类名称\" prop=\"cat_name\">\r\n          <el-input v-model=\"editForm.cat_name\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"editCatDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"editCate\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Categories',\r\n  data() {\r\n    return {\r\n      goodsList: [],\r\n      queryInfo: {\r\n        //查询条件\r\n        type: 3,\r\n        pagenum: 1,\r\n        pagesize: 5,\r\n      },\r\n      columns: [\r\n        {\r\n          label: '分类名称',\r\n          prop: 'cat_name',\r\n        },\r\n        {\r\n          label: '是否有效',\r\n          //   表示，将当前列定义为模板列\r\n          type: 'template',\r\n          //   表示当前这一列使用模板名称\r\n          template: 'isok',\r\n        },\r\n        {\r\n          label: '排序',\r\n          //   表示，将当前列定义为模板列\r\n          type: 'template',\r\n          //   表示当前这一列使用模板名称\r\n          template: 'order',\r\n        },\r\n        {\r\n          label: '操作',\r\n          //   表示，将当前列定义为模板列\r\n          type: 'template',\r\n          //   表示当前这一列使用模板名称\r\n          template: 'opt',\r\n        },\r\n      ],\r\n      total: 0,\r\n      addCatDialogVisible: false,\r\n      addCateForm: {\r\n        //   将要添加的分类的名称\r\n        cat_name: '',\r\n        // 父级分类的名称 默认设置为0\r\n        cat_pid: 0,\r\n        // 分类等级，默认添加的是1级分类\r\n        cat_level: 0,\r\n      },\r\n      addCateFormRules: {\r\n        cat_name: [\r\n          {\r\n            required: true,\r\n            message: '请输入分类名称',\r\n            trigger: 'blur',\r\n          },\r\n          {\r\n            min: 2,\r\n            max: 10,\r\n            message: '分类名的长度在3~10',\r\n            trigger: 'blur',\r\n          },\r\n        ],\r\n      },\r\n\r\n      //   父级分类的列表\r\n      parentCateList: [],\r\n      //   指定级联选择器的配置对象\r\n      cascaderProps: {\r\n        value: 'cat_id',\r\n        label: 'cat_name',\r\n        children: 'children',\r\n        expandTrigger: 'hover',\r\n      },\r\n      //   选中的父类分级的id数组\r\n      selectedKeys: [],\r\n      editCatDialogVisible: false,\r\n      editForm: {\r\n        cat_name: '',\r\n      },\r\n      editFormRules: {\r\n        cat_name: [\r\n          {\r\n            required: true,\r\n            message: '请输入分类名称',\r\n            trigger: 'blur',\r\n          },\r\n          {\r\n            min: 2,\r\n            max: 10,\r\n            message: '分类名的长度在3~10',\r\n            trigger: 'blur',\r\n          },\r\n        ],\r\n      },\r\n    }\r\n  },\r\n  created() {\r\n    this.getGoodesList()\r\n  },\r\n  methods: {\r\n    async getGoodesList() {\r\n      const { data: res } = await this.$http.get('categories', {\r\n        params: this.queryInfo,\r\n      })\r\n\r\n      if (res.meta.status !== 200) {\r\n        this.$message.error('获取商品列表失败')\r\n      }\r\n      this.$message.success('获取商品列表成功')\r\n\r\n      this.goodsList = res.data.result\r\n\r\n      this.total = res.data.total\r\n\r\n      console.log(res)\r\n    },\r\n\r\n    // 监听pagesize改变的事件\r\n    handleSizeChange(newSize) {\r\n      // console.log(newSize)\r\n      this.queryInfo.pagesize = newSize\r\n      this.getGoodesList()\r\n    },\r\n    // 监听 页码值 改变的事件\r\n    handleCurrentChange(newPage) {\r\n      // console.log(newPage)\r\n      this.queryInfo.pagenum = newPage\r\n      this.getGoodesList()\r\n    },\r\n    showAddCateDialog() {\r\n      // 先获取父级分类的数据列表\r\n      this.getParentCateList()\r\n      this.addCatDialogVisible = true\r\n    },\r\n    // 获取父级分类的数据列表\r\n    async getParentCateList() {\r\n      const { data: res } = await this.$http.get('categories', {\r\n        params: { type: 2 },\r\n      })\r\n      console.log(res)\r\n      if (res.meta.status !== 200) {\r\n        return this.$message.error('获取父级分类数据列表失败')\r\n      }\r\n      this.$message.success('获取父级分类数据列表成功')\r\n      this.parentCateList = res.data\r\n    },\r\n    // 选择项发生变换触发这个函数\r\n    parentCateChange() {\r\n      console.log('###', this.selectedKeys)\r\n      // 如果selectedKeys数组的length大于0，证明选中了父级分类\r\n      // 反之就是没有选中父级分类\r\n      if (this.selectedKeys.length > 0) {\r\n        // 父级分类的id\r\n        this.addCateForm.cat_pid =\r\n          this.selectedKeys[this.selectedKeys.length - 1]\r\n        this.addCateForm.cat_level = this.selectedKeys.length\r\n      } else {\r\n        this.addCateForm.cat_pid = 0\r\n        this.addCateForm.cat_level = 0\r\n      }\r\n    },\r\n    // 点击按钮，添加新的分类\r\n    addCate() {\r\n      // console.log('sdfaf', this.addCateForm)\r\n      this.$refs.addCateFormRef.validate(async (valid) => {\r\n        if (!valid) return\r\n        const { data: res } = await this.$http.post(\r\n          'categories',\r\n          this.addCateForm\r\n        )\r\n        console.log(res)\r\n\r\n        if (res.meta.status !== 201) {\r\n          return this.$message.error('添加新分类失败')\r\n        }\r\n        this.getGoodesList()\r\n        this.addCatDialogVisible = false\r\n        this.$message.success('添加新分类成功')\r\n      })\r\n    },\r\n    addCatDialogClosed() {\r\n      this.$refs.addCateFormRef.resetFields()\r\n      this.selectedKeys = []\r\n      this.addCateForm.cat_level = 0\r\n      this.addCateForm.cat_pid = 0\r\n    },\r\n\r\n    // 展示分类窗口\r\n    async showEditDialog(id) {\r\n      // console.log(id)\r\n      // 查询cat id 获得分类\r\n      const { data: res } = await this.$http.get(`categories/${id}`)\r\n      // console.log(res)\r\n      this.editForm = res.data\r\n\r\n      this.editCatDialogVisible = true\r\n    },\r\n\r\n    editCatDialogClosed() {\r\n      this.$refs.editFormRef.resetFields()\r\n    },\r\n\r\n    // 确认修改分类名\r\n    editCate() {\r\n      // console.log(this.editForm)\r\n\r\n      // 预验证\r\n      this.$refs.editFormRef.validate(async (valid) => {\r\n        if (!valid) return\r\n        // 修改请求\r\n        const { data: res } = await this.$http.put(\r\n          `categories/${this.editForm.cat_id}`,\r\n          this.editForm\r\n        )\r\n        // console.log(res)\r\n        if (res.meta.status !== 200) {\r\n          return this.$message.error('更新用户失败')\r\n        }\r\n        this.getGoodesList()\r\n        this.editCatDialogVisible = false\r\n        this.$message.success('更新用户成功')\r\n      })\r\n    },\r\n    // 删除分类\r\n    async removeCateById(id) {\r\n      const confirmResult = await this.$confirm(\r\n        '此操作将永久删除该分类, 是否继续?',\r\n        '提示',\r\n        {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning',\r\n        }\r\n      ).catch((error) => error)\r\n\r\n      if (confirmResult !== 'confirm') {\r\n        return this.$message.info('已经取消删除')\r\n      }\r\n\r\n      // 执行删除操作\r\n      const { data: res } = await this.$http.delete(`categories/${id}`)\r\n      if (res.meta.status !== 200) {\r\n        return this.$message.error('删除分类失败')\r\n      }\r\n      this.$message.success('删除分类成功')\r\n      this.getGoodesList()\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.treeTable {\r\n  margin-top: 15px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Categories.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Categories.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Categories.vue?vue&type=template&id=0c8ac6c2&scoped=true&\"\nimport script from \"./Categories.vue?vue&type=script&lang=js&\"\nexport * from \"./Categories.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Categories.vue?vue&type=style&index=0&id=0c8ac6c2&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0c8ac6c2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/welcome' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"商品管理\")]),_c('el-breadcrumb-item',[_vm._v(\"分类参数\")])],1),_c('el-card',{staticClass:\"box-card\"},[_c('el-alert',{attrs:{\"title\":\"注意： 只允许为第三级分类设置相关参数！\",\"type\":\"warning\",\"closable\":false,\"show-icon\":\"\"}}),_c('el-row',{staticClass:\"cat_opt\"},[_c('el-col',[_c('span',[_vm._v(\"选择商品分类：\")]),_c('el-cascader',{attrs:{\"options\":_vm.cateList,\"props\":_vm.cascaderProps},on:{\"change\":_vm.handleCateListChange},model:{value:(_vm.selectedCateKeys),callback:function ($$v) {_vm.selectedCateKeys=$$v},expression:\"selectedCateKeys\"}})],1)],1),_c('el-tabs',{on:{\"tab-click\":_vm.handleTabClick},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"动态参数\",\"name\":\"many\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"disabled\":_vm.isBtnDisabled},on:{\"click\":_vm.showAddParamDialog}},[_vm._v(\"添加参数\")]),_c('el-table',{attrs:{\"data\":_vm.manyTableData,\"border\":\"\",\"stripe\":\"\",\"empty-text\":\"暂无数据\",\"show-header\":_vm.hasData(_vm.manyTableData)}},[_c('el-table-column',{attrs:{\"type\":\"expand\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._l((scope.row.attr_vals),function(val,index){return _c('el-tag',{key:index,attrs:{\"size\":\"mini\",\"closable\":\"\"},on:{\"close\":function($event){return _vm.removeTag(index, scope.row)}}},[_vm._v(\" \"+_vm._s(val)+\" \")])}),(scope.row.inputVisible)?_c('el-input',{ref:\"saveTagInput\",staticClass:\"input-new-tag\",attrs:{\"size\":\"small\"},on:{\"blur\":function($event){return _vm.handleInputConfirm(scope.row)}},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleInputConfirm(scope.row)}},model:{value:(scope.row.inputValue),callback:function ($$v) {_vm.$set(scope.row, \"inputValue\", $$v)},expression:\"scope.row.inputValue\"}}):_c('el-button',{staticClass:\"button-new-tag\",attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.showInput(scope.row)}}},[_vm._v(\"+ New Tag\")])]}}])}),_c('el-table-column',{attrs:{\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"label\":\"参数名称\",\"prop\":\"attr_name\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"300px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.showEditParamDialog(scope.row)}}},[_vm._v(\"修改\")]),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.removeParam(scope.row.attr_id)}}},[_vm._v(\"删除\")])]}}])})],1)],1),_c('el-tab-pane',{attrs:{\"label\":\"静态属性\",\"name\":\"only\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"disabled\":_vm.isBtnDisabled},on:{\"click\":_vm.showAddParamDialog}},[_vm._v(\" 添加属性\")]),_c('el-table',{attrs:{\"data\":_vm.onlyTableData,\"border\":\"\",\"stripe\":\"\",\"empty-text\":\"暂无数据\",\"show-header\":_vm.hasData(_vm.onlyTableData)}},[_c('el-table-column',{attrs:{\"type\":\"expand\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._l((scope.row.attr_vals),function(val,index){return _c('el-tag',{key:index,attrs:{\"size\":\"mini\",\"closable\":\"\"},on:{\"close\":function($event){return _vm.removeTag(index, scope.row)}}},[_vm._v(\" \"+_vm._s(val)+\" \")])}),(scope.row.inputVisible)?_c('el-input',{ref:\"saveTagInput\",staticClass:\"input-new-tag\",attrs:{\"size\":\"small\"},on:{\"blur\":function($event){return _vm.handleInputConfirm(scope.row)}},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleInputConfirm(scope.row)}},model:{value:(scope.row.inputValue),callback:function ($$v) {_vm.$set(scope.row, \"inputValue\", $$v)},expression:\"scope.row.inputValue\"}}):_c('el-button',{staticClass:\"button-new-tag\",attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.showInput(scope.row)}}},[_vm._v(\"+ New Tag\")])]}}])}),_c('el-table-column',{attrs:{\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"label\":\"属性名称\",\"prop\":\"attr_name\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"300px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.showEditParamDialog(scope.row)}}},[_vm._v(\"修改\")]),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.removeParam(scope.row.attr_id)}}},[_vm._v(\"删除\")])]}}])})],1)],1)],1),_c('el-dialog',{attrs:{\"title\":(\"添加\" + _vm.titleText),\"visible\":_vm.addParamDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.addParamDialogVisible=$event},\"close\":_vm.addParamDialogClosed}},[_c('el-form',{ref:\"addFormRef\",attrs:{\"model\":_vm.addForm,\"rules\":_vm.addFormRules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":_vm.titleText,\"prop\":\"attr_name\"}},[_c('el-input',{model:{value:(_vm.addForm.attr_name),callback:function ($$v) {_vm.$set(_vm.addForm, \"attr_name\", $$v)},expression:\"addForm.attr_name\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addParamDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addParams}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":(\"修改\" + _vm.titleText),\"visible\":_vm.editParamDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.editParamDialogVisible=$event},\"close\":_vm.editParamDialogClosed}},[_c('el-form',{ref:\"editFormRef\",attrs:{\"model\":_vm.editForm,\"rules\":_vm.editFormRules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":_vm.titleText,\"prop\":\"attr_name\"}},[_c('template',{slot:\"scope\"}),_c('el-input',{model:{value:(_vm.editForm.attr_name),callback:function ($$v) {_vm.$set(_vm.editForm, \"attr_name\", $$v)},expression:\"editForm.attr_name\"}})],2)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editParamDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.editParams}},[_vm._v(\"确 定\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/welcome' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>商品管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>分类参数</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n\r\n    <!-- 卡片区 -->\r\n    <el-card class=\"box-card\">\r\n      <!-- 警告区 -->\r\n      <el-alert\r\n        title=\"注意： 只允许为第三级分类设置相关参数！\"\r\n        type=\"warning\"\r\n        :closable=\"false\"\r\n        show-icon\r\n      >\r\n      </el-alert>\r\n\r\n      <!-- 选择商品分类区 -->\r\n      <el-row class=\"cat_opt\">\r\n        <el-col>\r\n          <span>选择商品分类：</span>\r\n\r\n          <!-- 选择商品分类的级联选择框 -->\r\n          <el-cascader\r\n            v-model=\"selectedCateKeys\"\r\n            :options=\"cateList\"\r\n            :props=\"cascaderProps\"\r\n            @change=\"handleCateListChange\"\r\n          ></el-cascader>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <!--   tab页签区域  -->\r\n      <el-tabs v-model=\"activeName\" @tab-click=\"handleTabClick\">\r\n        <!-- 添加动态参数面板 -->\r\n        <el-tab-pane label=\"动态参数\" name=\"many\">\r\n          <el-button\r\n            type=\"primary\"\r\n            size=\"mini\"\r\n            :disabled=\"isBtnDisabled\"\r\n            @click=\"showAddParamDialog\"\r\n            >添加参数</el-button\r\n          >\r\n          <!-- 动态列表 -->\r\n          <el-table\r\n            :data=\"manyTableData\"\r\n            border\r\n            stripe\r\n            empty-text=\"暂无数据\"\r\n            :show-header=\"hasData(manyTableData)\"\r\n          >\r\n            <!-- 展开行 -->\r\n            <el-table-column type=\"expand\">\r\n              <template slot-scope=\"scope\">\r\n                <!-- {{ scope.row }} -->\r\n\r\n                <el-tag\r\n                  size=\"mini\"\r\n                  closable\r\n                  @close=\"removeTag(index, scope.row)\"\r\n                  v-for=\"(val, index) in scope.row.attr_vals\"\r\n                  :key=\"index\"\r\n                >\r\n                  {{ val }}\r\n                </el-tag>\r\n                <el-input\r\n                  class=\"input-new-tag\"\r\n                  v-if=\"scope.row.inputVisible\"\r\n                  v-model=\"scope.row.inputValue\"\r\n                  ref=\"saveTagInput\"\r\n                  size=\"small\"\r\n                  @keyup.enter.native=\"handleInputConfirm(scope.row)\"\r\n                  @blur=\"handleInputConfirm(scope.row)\"\r\n                >\r\n                </el-input>\r\n                <el-button\r\n                  v-else\r\n                  class=\"button-new-tag\"\r\n                  size=\"small\"\r\n                  @click=\"showInput(scope.row)\"\r\n                  >+ New Tag</el-button\r\n                >\r\n              </template>\r\n            </el-table-column>\r\n            <!-- 索引链 -->\r\n            <el-table-column type=\"index\"> </el-table-column>\r\n            <el-table-column label=\"参数名称\" prop=\"attr_name\">\r\n            </el-table-column>\r\n            <el-table-column label=\"操作\" width=\"300px\">\r\n              <template slot-scope=\"scope\">\r\n                <!-- {{scope.row}} -->\r\n                <!-- 修改按钮 -->\r\n                <el-button\r\n                  type=\"primary\"\r\n                  icon=\"el-icon-edit\"\r\n                  size=\"mini\"\r\n                  @click=\"showEditParamDialog(scope.row)\"\r\n                  >修改</el-button\r\n                >\r\n                <!-- 删除按钮 -->\r\n                <el-button\r\n                  type=\"danger\"\r\n                  icon=\"el-icon-delete\"\r\n                  size=\"mini\"\r\n                  @click=\"removeParam(scope.row.attr_id)\"\r\n                  >删除</el-button\r\n                >\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n        </el-tab-pane>\r\n\r\n        <!-- 添加静态属性面板 -->\r\n        <el-tab-pane label=\"静态属性\" name=\"only\">\r\n          <el-button\r\n            type=\"primary\"\r\n            size=\"mini\"\r\n            :disabled=\"isBtnDisabled\"\r\n            @click=\"showAddParamDialog\"\r\n          >\r\n            添加属性</el-button\r\n          >\r\n          <!-- 静态列表 -->\r\n          <el-table\r\n            :data=\"onlyTableData\"\r\n            border\r\n            stripe\r\n            empty-text=\"暂无数据\"\r\n            :show-header=\"hasData(onlyTableData)\"\r\n          >\r\n            <!-- 展开行 -->\r\n            <el-table-column type=\"expand\">\r\n              <template slot-scope=\"scope\">\r\n                <!-- {{ scope.row }} -->\r\n                <el-tag\r\n                  size=\"mini\"\r\n                  closable\r\n                  @close=\"removeTag(index, scope.row)\"\r\n                  v-for=\"(val, index) in scope.row.attr_vals\"\r\n                  :key=\"index\"\r\n                >\r\n                  {{ val }}\r\n                </el-tag>\r\n                <el-input\r\n                  class=\"input-new-tag\"\r\n                  v-if=\"scope.row.inputVisible\"\r\n                  v-model=\"scope.row.inputValue\"\r\n                  ref=\"saveTagInput\"\r\n                  size=\"small\"\r\n                  @keyup.enter.native=\"handleInputConfirm(scope.row)\"\r\n                  @blur=\"handleInputConfirm(scope.row)\"\r\n                >\r\n                </el-input>\r\n                <el-button\r\n                  v-else\r\n                  class=\"button-new-tag\"\r\n                  size=\"small\"\r\n                  @click=\"showInput(scope.row)\"\r\n                  >+ New Tag</el-button\r\n                >\r\n              </template>\r\n            </el-table-column>\r\n            <!-- 索引链 -->\r\n            <el-table-column type=\"index\"> </el-table-column>\r\n            <el-table-column label=\"属性名称\" prop=\"attr_name\">\r\n            </el-table-column>\r\n            <el-table-column label=\"操作\" width=\"300px\">\r\n              <template slot-scope=\"scope\">\r\n                <!-- {{scope.row}} -->\r\n                <!-- 修改按钮 -->\r\n                <el-button\r\n                  type=\"primary\"\r\n                  icon=\"el-icon-edit\"\r\n                  size=\"mini\"\r\n                  @click=\"showEditParamDialog(scope.row)\"\r\n                  >修改</el-button\r\n                >\r\n                <!-- 删除按钮 -->\r\n                <el-button\r\n                  type=\"danger\"\r\n                  icon=\"el-icon-delete\"\r\n                  size=\"mini\"\r\n                  @click=\"removeParam(scope.row.attr_id)\"\r\n                  >删除</el-button\r\n                >\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n        </el-tab-pane>\r\n      </el-tabs>\r\n\r\n      <!-- 添加参数对话框 -->\r\n      <el-dialog\r\n        :title=\"`添加${titleText}`\"\r\n        :visible.sync=\"addParamDialogVisible\"\r\n        width=\"50%\"\r\n        @close=\"addParamDialogClosed\"\r\n      >\r\n        <!-- 参数对话框表单 -->\r\n        <el-form\r\n          :model=\"addForm\"\r\n          :rules=\"addFormRules\"\r\n          ref=\"addFormRef\"\r\n          label-width=\"100px\"\r\n        >\r\n          <!-- prop 名称看接口找的数据对应名称 -->\r\n          <el-form-item :label=\"titleText\" prop=\"attr_name\">\r\n            <el-input v-model=\"addForm.attr_name\"></el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"addParamDialogVisible = false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"addParams\">确 定</el-button>\r\n        </span>\r\n      </el-dialog>\r\n\r\n      <!-- 修改参数对话框 -->\r\n      <el-dialog\r\n        :title=\"`修改${titleText}`\"\r\n        :visible.sync=\"editParamDialogVisible\"\r\n        width=\"50%\"\r\n        @close=\"editParamDialogClosed\"\r\n      >\r\n        <!-- 参数对话框表单 -->\r\n        <el-form\r\n          :model=\"editForm\"\r\n          :rules=\"editFormRules\"\r\n          ref=\"editFormRef\"\r\n          label-width=\"100px\"\r\n        >\r\n          <!-- prop 名称看接口找的数据对应名称 -->\r\n          <el-form-item :label=\"titleText\" prop=\"attr_name\">\r\n            <template slot=\"scope\"></template>\r\n            <el-input v-model=\"editForm.attr_name\"></el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"editParamDialogVisible = false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"editParams\">确 定</el-button>\r\n        </span>\r\n      </el-dialog>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Params',\r\n  data() {\r\n    return {\r\n      // 商品分类列表\r\n      cateList: [],\r\n      // 级联选择框双向绑定到的数组\r\n      selectedCateKeys: [],\r\n      // 级联选择框的配置对象\r\n      cascaderProps: {\r\n        expandTrigger: 'hover',\r\n        value: 'cat_id',\r\n        label: 'cat_name',\r\n        children: 'children',\r\n      },\r\n      //   被激活的页签名称\r\n      activeName: 'many',\r\n      manyTableData: [], //动态参数数据\r\n      onlyTableData: [], //静态参数数据\r\n      addParamDialogVisible: false,\r\n      addForm: {}, //添加参数表单数据对象\r\n      addFormRules: {\r\n        //添加参数表单验证规则数据对象\r\n        attr_name: [\r\n          {\r\n            required: true,\r\n            message: '请输入参数名称',\r\n            trigger: 'blur',\r\n          },\r\n          {\r\n            min: 2,\r\n            max: 10,\r\n            message: '参数名的长度在2~10',\r\n            trigger: 'blur',\r\n          },\r\n        ],\r\n      },\r\n      editParamDialogVisible: false,\r\n      editForm: {}, //修改参数表单数据对象\r\n      editFormRules: {\r\n        //修改参数表单验证规则数据对象\r\n        attr_name: [\r\n          {\r\n            required: true,\r\n            message: '请输入参数名称',\r\n            trigger: 'blur',\r\n          },\r\n          {\r\n            min: 2,\r\n            max: 10,\r\n            message: '参数名的长度在2~10',\r\n            trigger: 'blur',\r\n          },\r\n        ],\r\n      },\r\n      // inputVisible: false, //控制按钮与文本框的切换\r\n      // inputValue: '', //文本框中输入的内容,\r\n    }\r\n  },\r\n  created() {\r\n    this.getCateList()\r\n  },\r\n  computed: {\r\n    //   如果按钮需要被禁用，则返回true， 否则返回false\r\n    isBtnDisabled() {\r\n      if (this.selectedCateKeys.length !== 3) {\r\n        return true\r\n      } else {\r\n        return false\r\n      }\r\n    },\r\n    // 当前选中的三级分类的id\r\n    cateId() {\r\n      if (this.selectedCateKeys.length === 3) {\r\n        // console.log('###', this.selectedCateKeys[2])\r\n        return this.selectedCateKeys[2]\r\n      }\r\n      return null\r\n    },\r\n    // 动态计算标题文本\r\n    titleText() {\r\n      if (this.activeName === 'many') {\r\n        return '动态参数'\r\n      }\r\n      return '静态属性'\r\n    },\r\n  },\r\n  methods: {\r\n    //   获取所有的商品分类列表\r\n    async getCateList() {\r\n      const { data: res } = await this.$http.get('categories')\r\n      // console.log('@@@', res)\r\n      if (res.meta.status !== 200) {\r\n        return this.$message.error('获取商品分类列表失败')\r\n      }\r\n      this.$message.success('获取商品分类列表成功')\r\n      this.cateList = res.data\r\n    },\r\n    //   级联选择框选中项变化，会触发这个函数\r\n    handleCateListChange() {\r\n      this.getParamsData()\r\n    },\r\n    // tab页签的点击事件处理函数\r\n    handleTabClick() {\r\n      this.getParamsData()\r\n    },\r\n\r\n    // 获取参数的列表数据\r\n    async getParamsData() {\r\n      // console.log(this.selectedCateKeys)\r\n      //   判断选中的是不是三级分类\r\n      if (this.selectedCateKeys.length !== 3) {\r\n        this.selectedCateKeys = []\r\n        this.manyTableData = []\r\n        this.onlyTableData = []\r\n        return this.$message.error('只允许为第三级分类设置相关参数！')\r\n      }\r\n      // console.log(this.cateId)\r\n      const { data: res } = await this.$http.get(\r\n        `categories/${this.cateId}/attributes`,\r\n        { params: { sel: this.activeName } }\r\n      )\r\n      // console.log(res)\r\n      if (res.meta.status !== 200) {\r\n        return this.$message.error('获取参数属性列表失败')\r\n      }\r\n      this.$message.success('获取参数属性列表成功')\r\n\r\n      res.data.forEach((item) => {\r\n        item.attr_vals = item.attr_vals ? item.attr_vals.split(',') : []\r\n        // 控制文本框的显示与隐藏\r\n        item.inputVisible = false\r\n        // 文本框中输入的值\r\n        item.inputValue = ''\r\n      })\r\n\r\n      // 判断获取的数据是静态还是动态表格然后再挂载\r\n      if (this.activeName === 'many') {\r\n        this.manyTableData = res.data\r\n        // console.log(\"@@@###\",this.manyTableData)\r\n      } else {\r\n        this.onlyTableData = res.data\r\n        // console.log(\"@@@###\",this.onlyTableData)\r\n      }\r\n    },\r\n    hasData(tableData) {\r\n      if (tableData.length !== 0) {\r\n        return true\r\n      }\r\n      return false\r\n    },\r\n    showAddParamDialog() {\r\n      this.addParamDialogVisible = true\r\n    },\r\n    addParamDialogClosed() {\r\n      this.$refs.addFormRef.resetFields()\r\n    },\r\n    // 点击按钮添加参数\r\n    addParams() {\r\n      this.$refs.addFormRef.validate(async (valid) => {\r\n        if (!valid) return\r\n\r\n        const { data: res } = await this.$http.post(\r\n          `categories/${this.cateId}/attributes`,\r\n          {\r\n            attr_name: this.addForm.attr_name,\r\n            attr_sel: this.activeName,\r\n          }\r\n        )\r\n\r\n        if (res.meta.status !== 201) {\r\n          return this.$message.error('添加参数失败')\r\n        }\r\n        this.$message.success('添加参数成功')\r\n\r\n        this.addParamDialogVisible = false\r\n        this.getParamsData()\r\n      })\r\n    },\r\n    async showEditParamDialog(rowInfo) {\r\n      // this.editForm = rowInfo\r\n      // 查询当前参数的信息\r\n      const { data: res } = await this.$http.get(\r\n        `categories/${this.cateId}/attributes/${rowInfo.attr_id}`,\r\n        { params: { attr_sel: this.activeName } }\r\n      )\r\n\r\n      if (res.meta.status !== 200) {\r\n        return this.$message.error('查询参数失败')\r\n      }\r\n      this.$message.success('查询参数成功')\r\n\r\n      this.editForm = res.data\r\n\r\n      this.editParamDialogVisible = true\r\n    },\r\n    editParamDialogClosed() {\r\n      this.$refs.editFormRef.resetFields()\r\n    },\r\n    editParams() {\r\n      // 编辑预验证\r\n      this.$refs.editFormRef.validate(async (valid) => {\r\n        if (!valid) return\r\n\r\n        const { data: res } = await this.$http.put(\r\n          `categories/${this.cateId}/attributes/${this.editForm.attr_id}`,\r\n          {\r\n            attr_name: this.editForm.attr_name,\r\n            attr_sel: this.activeName,\r\n          }\r\n        )\r\n        // console.log(res)\r\n        if (res.meta.status !== 200) {\r\n          return this.$message.error('修改参数失败')\r\n        }\r\n        this.$message.success('修改参数成功')\r\n\r\n        this.getParamsData()\r\n        this.editParamDialogVisible = false\r\n      })\r\n    },\r\n    // 根据id删除对应参数\r\n    async removeParam(id) {\r\n      const confirmResult = await this.$confirm(\r\n        '此操作将永远删除该参数，是否继续？',\r\n        '提示',\r\n        {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning',\r\n        }\r\n      ).catch((err) => err)\r\n\r\n      if (confirmResult !== 'confirm') {\r\n        return this.$message.info('已经取消删除')\r\n      }\r\n\r\n      // 删除逻辑\r\n      const { data: res } = await this.$http.delete(\r\n        `categories/${this.cateId}/attributes/${id}`\r\n      )\r\n      if (res.meta.status !== 200) {\r\n        return this.$message.error('删除参数失败')\r\n      }\r\n      this.$message.success('删除参数成功')\r\n\r\n      this.getParamsData()\r\n    },\r\n\r\n    showInput(rowInfo) {\r\n      rowInfo.inputVisible = true\r\n      // 页面渲染完毕后再执行回调中的内容\r\n      this.$nextTick((_) => {\r\n        this.$refs.saveTagInput.$refs.input.focus()\r\n      })\r\n    },\r\n\r\n    // 文本框失去焦点或摁下enter都会触发\r\n    async handleInputConfirm(rowInfo) {\r\n      if (rowInfo.inputValue.trim().length === 0) {\r\n        rowInfo.inputVisible = false\r\n        rowInfo.inputValue = ''\r\n        return\r\n      }\r\n\r\n      // 没有return 要进行后续的添加tag操作\r\n      rowInfo.attr_vals.push(rowInfo.inputValue.trim()) //前端展示新增\r\n\r\n      // 加入到后台，，发起请求保存操作\r\n      this.saveAttrVals(rowInfo)\r\n\r\n      rowInfo.inputValue = ''\r\n      rowInfo.inputVisible = false\r\n    },\r\n    // 将对 tag  attr_vals 的操作保存到数据库\r\n    async saveAttrVals(rowInfo) {\r\n      const { data: res } = await this.$http.put(\r\n        `categories/${this.cateId}/attributes/${rowInfo.attr_id}`,\r\n        {\r\n          attr_name: rowInfo.attr_name,\r\n          attr_sel: rowInfo.attr_sel,\r\n          attr_vals: rowInfo.attr_vals.join(','),\r\n        }\r\n      )\r\n\r\n      if (res.meta.status !== 200) {\r\n        return this.$message.error('添加参数tag失败')\r\n      }\r\n      this.$message.success('添加参数tag成功')\r\n    },\r\n\r\n    // 删除参数的tag项\r\n    removeTag(tagIn, rowInfo) {\r\n      rowInfo.attr_vals.splice(tagIn, 1) //从index tagIn处删除1个元素\r\n      this.saveAttrVals(rowInfo)\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.cat_opt {\r\n  margin: 15px 0;\r\n}\r\n\r\n.el-tag {\r\n  margin: 15px;\r\n}\r\n\r\n.input-new-tag {\r\n  width: 120px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Params.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Params.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Params.vue?vue&type=template&id=a5d592c6&scoped=true&\"\nimport script from \"./Params.vue?vue&type=script&lang=js&\"\nexport * from \"./Params.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Params.vue?vue&type=style&index=0&id=a5d592c6&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a5d592c6\",\n  null\n  \n)\n\nexport default component.exports","var PROPER_FUNCTION_NAME = require('../internals/function-name').PROPER;\nvar fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]()\n      || non[METHOD_NAME]() !== non\n      || (PROPER_FUNCTION_NAME && whitespaces[METHOD_NAME].name !== METHOD_NAME);\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.es/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","path","_v","staticClass","on","showAddCateDialog","goodsList","columns","scopedSlots","_u","key","fn","scope","row","cat_deleted","staticStyle","cat_level","$event","showEditDialog","cat_id","removeCateById","queryInfo","pagenum","pagesize","total","handleSizeChange","handleCurrentChange","addCatDialogVisible","addCatDialogClosed","ref","addCateForm","addCateFormRules","model","value","callback","$$v","$set","expression","parentCateList","cascaderProps","parentCateChange","selectedKeys","slot","addCate","editCatDialogVisible","editCatDialogClosed","editForm","editFormRules","editCate","staticRenderFns","name","data","type","label","prop","template","cat_name","cat_pid","required","message","trigger","min","max","children","expandTrigger","created","getGoodesList","methods","params","res","newSize","newPage","getParentCateList","length","$refs","addCateFormRef","validate","valid","resetFields","id","editFormRef","confirmButtonText","cancelButtonText","catch","confirmResult","component","cateList","handleCateListChange","selectedCateKeys","handleTabClick","activeName","isBtnDisabled","showAddParamDialog","manyTableData","hasData","_l","val","index","removeTag","_s","handleInputConfirm","nativeOn","indexOf","_k","keyCode","showInput","showEditParamDialog","removeParam","attr_id","onlyTableData","titleText","addParamDialogVisible","addParamDialogClosed","addForm","addFormRules","addParams","editParamDialogVisible","editParamDialogClosed","editParams","attr_name","getCateList","computed","cateId","getParamsData","sel","item","tableData","addFormRef","attr_sel","rowInfo","inputVisible","$nextTick","attr_vals","tagIn","splice","saveAttrVals","PROPER_FUNCTION_NAME","fails","whitespaces","non","module","exports","METHOD_NAME","$","$trim","forcedStringTrimMethod","target","proto","forced","trim"],"sourceRoot":""}